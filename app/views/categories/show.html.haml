%h1
  Category details

.container.w-50
  %table.table
    %thead
      %tr
        %th Info
        %th Value
    %tbody
      %tr
        %td Name
        %td= @category.name
      %tr
        %td Description
        %td= @category.description
      %tr
        %td # of sub-categories
        %td= @category.subcategories.count
      %tr
        %td # of expenses
        %td= "#{@category.expenses.valid.count}/#{@category.expenses.count}"
      %tr
        %td{colspan: "2"}
          = link_to 'Manage sub-categories', category_subcategories_path(@category), class: "btn btn-light form-control"
      - unless @category.name == "Uncategorized"
        %tr
          %td{colspan: "2"}
            = link_to 'Edit this category', edit_category_path(@category), class: "btn btn-light form-control"
        %tr
          %td{colspan: "2"}
            %button.btn.btn-danger.form-control{:type => "button", "data-bs-toggle" => "modal", "data-bs-target" => "#deleteModal"}
              Delete this category
  
= render partial: "layouts/delete_modal", locals: {element: "category", link: @category}

- if @category.expenses.count > 0
  %hr
  = render partial: "expenses/table", locals: {expenses: @paginated_expenses, show: %i[ statement source subcategory ]}
