= link_to 'New Expense', new_expense_path, {class: "btn btn-fakturo btn-fakturo-action float-end"}

%h1 Expenses

.digg_pagination.d-flex.justify-content-center.mb-3
  = will_paginate @expenses, :container => false

%table.table.table-sm.table-striped
  %thead
    %tr
      %th Date
      %th Description
      %th Value
      %th Statement
      %th Source
      %th Category
      %th Sub-category
      %th

  %tbody
    - @expenses.each do |expense|
      %tr
        %td= expense.date.strftime("%Y-%m-%d")
        %td
          = expense.description
          - if expense.comment && expense.comment != ""
            %a{"data-bs-toggle" => "tooltip", "data-bs-title" => "#{expense.comment}"}
              %svg.bi.pe-none.me-2{ :width => "16", :height => "16", "aria-hidden" => "true" }
                %use{ "xlink:href" => "#info" }
        %td{ :class => "#{p 'text-decoration-line-through fw-lighter' if expense.ignore}" }
          = format("%.2f", expense.value)
        %td= "#{expense.statement.year}-#{"%02d" % expense.statement.month}"
        %td
          %a{"data-bs-toggle" => "tooltip", "data-bs-title" => "#{expense.statement.source.name}"}
            %svg.bi.pe-none.me-2{ :width => "16", :height => "16", "aria-hidden" => "true" }
              %use{ "xlink:href" => "#info" }
        %td= expense.subcategory.category.name
        %td= expense.subcategory.name
        %td
          %a{ :href => "#{expense_page_path(@page, expense)}", "data-bs-toggle" => "tooltip", "data-bs-placement" => "left", "data-bs-title" => "Show details" }
            %svg.bi.pe-none.me-2{ :width => "16", :height => "16", "aria-hidden" => "true" }
              %use{ "xlink:href" => "#edit" }

.digg_pagination.d-flex.justify-content-center.mb-3
  = will_paginate @expenses, :container => false